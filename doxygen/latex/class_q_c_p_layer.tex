\hypertarget{class_q_c_p_layer}{}\section{Q\+C\+P\+Layer Class Reference}
\label{class_q_c_p_layer}\index{Q\+C\+P\+Layer@{Q\+C\+P\+Layer}}


A layer that may contain objects, to control the rendering order.  




\subsection{Detailed Description}
A layer that may contain objects, to control the rendering order. 

The Layering system of \mbox{\hyperlink{class_q_custom_plot}{Q\+Custom\+Plot}} is the mechanism to control the rendering order of the elements inside the plot.

It is based on the two classes \mbox{\hyperlink{class_q_c_p_layer}{Q\+C\+P\+Layer}} and \mbox{\hyperlink{class_q_c_p_layerable}{Q\+C\+P\+Layerable}}. \mbox{\hyperlink{class_q_custom_plot}{Q\+Custom\+Plot}} holds an ordered list of one or more instances of \mbox{\hyperlink{class_q_c_p_layer}{Q\+C\+P\+Layer}} (see Q\+Custom\+Plot\+::add\+Layer, Q\+Custom\+Plot\+::layer, Q\+Custom\+Plot\+::move\+Layer, etc.). When replotting, \mbox{\hyperlink{class_q_custom_plot}{Q\+Custom\+Plot}} goes through the list of layers bottom to top and successively draws the layerables of the layers into the paint buffer(s).

A \mbox{\hyperlink{class_q_c_p_layer}{Q\+C\+P\+Layer}} contains an ordered list of \mbox{\hyperlink{class_q_c_p_layerable}{Q\+C\+P\+Layerable}} instances. \mbox{\hyperlink{class_q_c_p_layerable}{Q\+C\+P\+Layerable}} is an abstract base class from which almost all visible objects derive, like axes, grids, graphs, items, etc.\hypertarget{class_q_c_p_layer_qcplayer-defaultlayers}{}\subsection{Default layers}\label{class_q_c_p_layer_qcplayer-defaultlayers}
Initially, \mbox{\hyperlink{class_q_custom_plot}{Q\+Custom\+Plot}} has six layers\+: \char`\"{}background\char`\"{}, \char`\"{}grid\char`\"{}, \char`\"{}main\char`\"{}, \char`\"{}axes\char`\"{}, \char`\"{}legend\char`\"{} and \char`\"{}overlay\char`\"{} (in that order). On top is the \char`\"{}overlay\char`\"{} layer, which only contains the \mbox{\hyperlink{class_q_custom_plot}{Q\+Custom\+Plot}}\textquotesingle{}s selection rect (Q\+Custom\+Plot\+::selection\+Rect). The next two layers \char`\"{}axes\char`\"{} and \char`\"{}legend\char`\"{} contain the default axes and legend, so they will be drawn above plottables. In the middle, there is the \char`\"{}main\char`\"{} layer. It is initially empty and set as the current layer (see Q\+Custom\+Plot\+::set\+Current\+Layer). This means, all new plottables, items etc. are created on this layer by default. Then comes the \char`\"{}grid\char`\"{} layer which contains the \mbox{\hyperlink{class_q_c_p_grid}{Q\+C\+P\+Grid}} instances (which belong tightly to \mbox{\hyperlink{class_q_c_p_axis}{Q\+C\+P\+Axis}}, see Q\+C\+P\+Axis\+::grid). The Axis rect background shall be drawn behind everything else, thus the default \mbox{\hyperlink{class_q_c_p_axis_rect}{Q\+C\+P\+Axis\+Rect}} instance is placed on the \char`\"{}background\char`\"{} layer. Of course, the layer affiliation of the individual objects can be changed as required (Q\+C\+P\+Layerable\+::set\+Layer).\hypertarget{class_q_c_p_layer_qcplayer-ordering}{}\subsection{Controlling the rendering order via layers}\label{class_q_c_p_layer_qcplayer-ordering}
Controlling the ordering of layerables in the plot is easy\+: Create a new layer in the position you want the layerable to be in, e.\+g. above \char`\"{}main\char`\"{}, with Q\+Custom\+Plot\+::add\+Layer. Then set the current layer with Q\+Custom\+Plot\+::set\+Current\+Layer to that new layer and finally create the objects normally. They will be placed on the new layer automatically, due to the current layer setting. Alternatively you could have also ignored the current layer setting and just moved the objects with Q\+C\+P\+Layerable\+::set\+Layer to the desired layer after creating them.

It is also possible to move whole layers. For example, If you want the grid to be shown in front of all plottables/items on the \char`\"{}main\char`\"{} layer, just move it above \char`\"{}main\char`\"{} with Q\+Custom\+Plot\+::move\+Layer.

The rendering order within one layer is simply by order of creation or insertion. The item created last (or added last to the layer), is drawn on top of all other objects on that layer.

When a layer is deleted, the objects on it are not deleted with it, but fall on the layer below the deleted layer, see Q\+Custom\+Plot\+::remove\+Layer.\hypertarget{class_q_c_p_layer_qcplayer-buffering}{}\subsection{Replotting only a specific layer}\label{class_q_c_p_layer_qcplayer-buffering}
If the layer mode (set\+Mode) is set to lm\+Buffered, you can replot only this specific layer by calling replot. In certain situations this can provide better replot performance, compared with a full replot of all layers. Upon creation of a new layer, the layer mode is initialized to lm\+Logical. The only layer that is set to lm\+Buffered in a new \mbox{\hyperlink{class_q_custom_plot}{Q\+Custom\+Plot}} instance is the \char`\"{}overlay\char`\"{} layer, containing the selection rect. 

The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
cpp/\mbox{\hyperlink{qcustomplot_8cpp}{qcustomplot.\+cpp}}\end{DoxyCompactItemize}

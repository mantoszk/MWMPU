\hypertarget{class_q_c_p_abstract_item}{}\section{Q\+C\+P\+Abstract\+Item Class Reference}
\label{class_q_c_p_abstract_item}\index{Q\+C\+P\+Abstract\+Item@{Q\+C\+P\+Abstract\+Item}}


The abstract base class for all items in a plot.  




\subsection{Detailed Description}
The abstract base class for all items in a plot. 

In \mbox{\hyperlink{class_q_custom_plot}{Q\+Custom\+Plot}}, items are supplemental graphical elements that are neither plottables (\mbox{\hyperlink{class_q_c_p_abstract_plottable}{Q\+C\+P\+Abstract\+Plottable}}) nor axes (\mbox{\hyperlink{class_q_c_p_axis}{Q\+C\+P\+Axis}}). While plottables are always tied to two axes and thus plot coordinates, items can also be placed in absolute coordinates independent of any axes. Each specific item has at least one \mbox{\hyperlink{class_q_c_p_item_position}{Q\+C\+P\+Item\+Position}} member which controls the positioning. Some items are defined by more than one coordinate and thus have two or more \mbox{\hyperlink{class_q_c_p_item_position}{Q\+C\+P\+Item\+Position}} members (For example, \mbox{\hyperlink{class_q_c_p_item_rect}{Q\+C\+P\+Item\+Rect}} has {\itshape top\+Left} and {\itshape bottom\+Right}).

This abstract base class defines a very basic interface like visibility and clipping. Since this class is abstract, it can\textquotesingle{}t be instantiated. Use one of the subclasses or create a subclass yourself to create new items.

The built-\/in items are\+: \tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\mbox{\hyperlink{class_q_c_p_item_line}{Q\+C\+P\+Item\+Line}}&A line defined by a start and an end point. May have different ending styles on each side (e.\+g. arrows). \\\cline{1-2}
\mbox{\hyperlink{class_q_c_p_item_straight_line}{Q\+C\+P\+Item\+Straight\+Line}}&A straight line defined by a start and a direction point. Unlike \mbox{\hyperlink{class_q_c_p_item_line}{Q\+C\+P\+Item\+Line}}, the straight line is infinitely long and has no endings. \\\cline{1-2}
\mbox{\hyperlink{class_q_c_p_item_curve}{Q\+C\+P\+Item\+Curve}}&A curve defined by start, end and two intermediate control points. May have different ending styles on each side (e.\+g. arrows). \\\cline{1-2}
\mbox{\hyperlink{class_q_c_p_item_rect}{Q\+C\+P\+Item\+Rect}}&A rectangle \\\cline{1-2}
\mbox{\hyperlink{class_q_c_p_item_ellipse}{Q\+C\+P\+Item\+Ellipse}}&An ellipse \\\cline{1-2}
\mbox{\hyperlink{class_q_c_p_item_pixmap}{Q\+C\+P\+Item\+Pixmap}}&An arbitrary pixmap \\\cline{1-2}
\mbox{\hyperlink{class_q_c_p_item_text}{Q\+C\+P\+Item\+Text}}&A text label \\\cline{1-2}
\mbox{\hyperlink{class_q_c_p_item_bracket}{Q\+C\+P\+Item\+Bracket}}&A bracket which may be used to reference/highlight certain parts in the plot. \\\cline{1-2}
\mbox{\hyperlink{class_q_c_p_item_tracer}{Q\+C\+P\+Item\+Tracer}}&An item that can be attached to a \mbox{\hyperlink{class_q_c_p_graph}{Q\+C\+P\+Graph}} and sticks to its data points, given a key coordinate. \\\cline{1-2}
\end{longtabu}
\hypertarget{class_q_c_p_abstract_item_items-clipping}{}\subsection{Clipping}\label{class_q_c_p_abstract_item_items-clipping}
Items are by default clipped to the main axis rect (they are only visible inside the axis rect). To make an item visible outside that axis rect, disable clipping via set\+Clip\+To\+Axis\+Rect(false).

On the other hand if you want the item to be clipped to a different axis rect, specify it via set\+Clip\+Axis\+Rect. This clip\+Axis\+Rect property of an item is only used for clipping behaviour, and in principle is independent of the coordinate axes the item might be tied to via its position members (Q\+C\+P\+Item\+Position\+::set\+Axes). However, it is common that the axis rect for clipping also contains the axes used for the item positions.\hypertarget{class_q_c_p_abstract_item_items-using}{}\subsection{Using items}\label{class_q_c_p_abstract_item_items-using}
First you instantiate the item you want to use and add it to the plot\+: 
\begin{DoxyCodeInclude}
\end{DoxyCodeInclude}
by default, the positions of the item are bound to the x-\/ and y-\/\+Axis of the plot. So we can just set the plot coordinates where the line should start/end\+: 
\begin{DoxyCodeInclude}
\end{DoxyCodeInclude}
If we don\textquotesingle{}t want the line to be positioned in plot coordinates but a different coordinate system, e.\+g. absolute pixel positions on the \mbox{\hyperlink{class_q_custom_plot}{Q\+Custom\+Plot}} surface, we need to change the position type like this\+: 
\begin{DoxyCodeInclude}
\end{DoxyCodeInclude}
Then we can set the coordinates, this time in pixels\+: 
\begin{DoxyCodeInclude}
\end{DoxyCodeInclude}
and make the line visible on the entire \mbox{\hyperlink{class_q_custom_plot}{Q\+Custom\+Plot}}, by disabling clipping to the axis rect\+: 
\begin{DoxyCodeInclude}
\end{DoxyCodeInclude}
 For more advanced plots, it is even possible to set different types and parent anchors per X/Y coordinate of an item position, using for example Q\+C\+P\+Item\+Position\+::set\+TypeX or Q\+C\+P\+Item\+Position\+::set\+Parent\+AnchorX. For details, see the documentation of \mbox{\hyperlink{class_q_c_p_item_position}{Q\+C\+P\+Item\+Position}}.\hypertarget{class_q_c_p_abstract_item_items-subclassing}{}\subsection{Creating own items}\label{class_q_c_p_abstract_item_items-subclassing}
To create an own item, you implement a subclass of \mbox{\hyperlink{class_q_c_p_abstract_item}{Q\+C\+P\+Abstract\+Item}}. These are the pure virtual functions, you must implement\+: \begin{DoxyItemize}
\item select\+Test \item draw\end{DoxyItemize}
See the documentation of those functions for what they need to do.\hypertarget{class_q_c_p_abstract_item_items-positioning}{}\subsubsection{Allowing the item to be positioned}\label{class_q_c_p_abstract_item_items-positioning}
As mentioned, item positions are represented by \mbox{\hyperlink{class_q_c_p_item_position}{Q\+C\+P\+Item\+Position}} members. Let\textquotesingle{}s assume the new item shall have only one point as its position (as opposed to two like a rect or multiple like a polygon). You then add a public member of type \mbox{\hyperlink{class_q_c_p_item_position}{Q\+C\+P\+Item\+Position}} like so\+:


\begin{DoxyCode}
\mbox{\hyperlink{class_q_c_p_item_position}{QCPItemPosition}} * \textcolor{keyword}{const} myPosition;
\end{DoxyCode}


the const makes sure the pointer itself can\textquotesingle{}t be modified from the user of your new item (the \mbox{\hyperlink{class_q_c_p_item_position}{Q\+C\+P\+Item\+Position}} instance it points to, can be modified, of course). The initialization of this pointer is made easy with the create\+Position function. Just assign the return value of this function to each \mbox{\hyperlink{class_q_c_p_item_position}{Q\+C\+P\+Item\+Position}} in the constructor of your item. create\+Position takes a string which is the name of the position, typically this is identical to the variable name. For example, the constructor of Q\+C\+P\+Item\+Example could look like this\+:


\begin{DoxyCode}
QCPItemExample::QCPItemExample(\mbox{\hyperlink{class_q_custom_plot}{QCustomPlot}} *parentPlot) :
  \mbox{\hyperlink{class_q_c_p_abstract_item}{QCPAbstractItem}}(parentPlot),
  myPosition(createPosition(\textcolor{stringliteral}{"myPosition"}))
\{
  \textcolor{comment}{// other constructor code}
\}
\end{DoxyCode}
\hypertarget{class_q_c_p_abstract_item_items-drawing}{}\subsubsection{The draw function}\label{class_q_c_p_abstract_item_items-drawing}
To give your item a visual representation, reimplement the draw function and use the passed \mbox{\hyperlink{class_q_c_p_painter}{Q\+C\+P\+Painter}} to draw the item. You can retrieve the item position in pixel coordinates from the position member(s) via Q\+C\+P\+Item\+Position\+::pixel\+Position.

To optimize performance you should calculate a bounding rect first (don\textquotesingle{}t forget to take the pen width into account), check whether it intersects the clip\+Rect, and only draw the item at all if this is the case.\hypertarget{class_q_c_p_abstract_item_items-selection}{}\subsubsection{The select\+Test function}\label{class_q_c_p_abstract_item_items-selection}
Your implementation of the select\+Test function may use the helpers Q\+C\+P\+Vector2\+D\+::distance\+Squared\+To\+Line and rect\+Distance. With these, the implementation of the selection test becomes significantly simpler for most items. See the documentation of select\+Test for what the function parameters mean and what the function should return.\hypertarget{class_q_c_p_abstract_item_anchors}{}\subsubsection{Providing anchors}\label{class_q_c_p_abstract_item_anchors}
Providing anchors (\mbox{\hyperlink{class_q_c_p_item_anchor}{Q\+C\+P\+Item\+Anchor}}) starts off like adding a position. First you create a public member, e.\+g.


\begin{DoxyCode}
\mbox{\hyperlink{class_q_c_p_item_anchor}{QCPItemAnchor}} * \textcolor{keyword}{const} bottom;
\end{DoxyCode}


and create it in the constructor with the create\+Anchor function, assigning it a name and an anchor id (an integer enumerating all anchors on the item, you may create an own enum for this). Since anchors can be placed anywhere, relative to the item\textquotesingle{}s position(s), your item needs to provide the position of every anchor with the reimplementation of the anchor\+Pixel\+Position(int anchor\+Id) function.

In essence the \mbox{\hyperlink{class_q_c_p_item_anchor}{Q\+C\+P\+Item\+Anchor}} is merely an intermediary that itself asks your item for the pixel position when anything attached to the anchor needs to know the coordinates. 

The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
cpp/\mbox{\hyperlink{qcustomplot_8cpp}{qcustomplot.\+cpp}}\end{DoxyCompactItemize}
